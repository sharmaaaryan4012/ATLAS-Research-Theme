<mxfile host="app.diagrams.net" modified="2025-09-19T00:00:00.000Z" agent="Mozilla/5.0" version="24.7.4" editor="diagramly" type="device">
  <diagram id="langgraph_design" name="LangGraph Design">
    <mxGraphModel dx="1510" dy="860" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <mxCell id="container" value="Professor Classification â€“ LangGraph" style="swimlane;fontStyle=1;align=left;verticalAlign=top;rounded=1;shadow=0;html=1;strokeColor=#111827;fillColor=#f8fafc;gradientColor=none;startSize=40;" vertex="1" parent="1">
          <mxGeometry x="80" y="40" width="1240" height="920" as="geometry"/>
        </mxCell>

        <mxCell id="start" value="ProfessorRequest&#10;Start / input: name, dept, raw description" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#111827;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="480" y="80" width="280" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="cleaner" value="DescriptionCleaner&#10;Tool: normalize/clean text (dedupe, truncate, UTF-8)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#1D4ED8;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="480" y="170" width="280" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="retriever" value="CandidateRetriever&#10;Tool: embeddings search over taxonomy to get top-k fields/subfields" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#1D4ED8;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="480" y="260" width="280" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="generator" value="ClassificationGenerator&#10;Agent: propose field/subfield IDs + rationales + confidence" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FECACA;strokeColor=#B91C1C;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="200" y="360" width="320" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="validator" value="ClassificationValidator&#10;Agent: schema + confidence + grounding checks; propose fixes" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FECACA;strokeColor=#B91C1C;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="740" y="360" width="320" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="valid_decision" value="Valid?&#10;Decision: does output pass all checks?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#111827;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="540" y="470" width="160" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="expanded" value="ExpandedRetriever&#10;Tool: broaden/refresh candidates (synonyms, wider k)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#1D4ED8;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="480" y="580" width="280" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="conf_decision" value="Sufficient Confidence?&#10;Decision: min/conf thresholds met?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#111827;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="540" y="670" width="160" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="proposer" value="SubfieldProposer&#10;Agent: draft new subfield with label/definition/keywords" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FECACA;strokeColor=#B91C1C;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="200" y="760" width="320" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="curator" value="TaxonomyCurator&#10;Agent (or human-in-loop): approve/merge/reject proposal" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FECACA;strokeColor=#B91C1C;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="740" y="760" width="320" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="approve_decision" value="Approved?&#10;Decision: curator approval?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#111827;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="540" y="860" width="160" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="finalizer" value="ClassificationFinalizer&#10;Tool: persist results with taxonomy_version, confidence, rationales" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#1D4ED8;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="1040" y="470" width="280" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="end" value="End&#10;Done" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#111827;strokeWidth=1;" vertex="1" parent="container">
          <mxGeometry x="1080" y="560" width="200" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="e1" edge="1" parent="1" source="start" target="cleaner"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e2" edge="1" parent="1" source="cleaner" target="retriever"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e3" edge="1" parent="1" source="retriever" target="generator"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e4" edge="1" parent="1" source="retriever" target="validator"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e5" edge="1" parent="1" source="generator" target="validator"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e6" edge="1" parent="1" source="validator" target="valid_decision"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e7y" value="YES" style="edgeStyle=elbowEdgeStyle;endArrow=classic;" edge="1" parent="1" source="valid_decision" target="finalizer"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e7n" value="NO" style="edgeStyle=elbowEdgeStyle;endArrow=classic;" edge="1" parent="1" source="valid_decision" target="expanded"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e8" edge="1" parent="1" source="expanded" target="generator"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e9" edge="1" parent="1" source="expanded" target="conf_decision"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e10y" value="YES" style="edgeStyle=elbowEdgeStyle;endArrow=classic;" edge="1" parent="1" source="conf_decision" target="finalizer"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e10n" value="NO" style="edgeStyle=elbowEdgeStyle;endArrow=classic;" edge="1" parent="1" source="conf_decision" target="proposer"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e11" edge="1" parent="1" source="proposer" target="curator"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e12" edge="1" parent="1" source="curator" target="approve_decision"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e13y" value="YES" style="edgeStyle=elbowEdgeStyle;endArrow=classic;" edge="1" parent="1" source="approve_decision" target="retriever"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e13n" value="NO" style="edgeStyle=elbowEdgeStyle;endArrow=classic;" edge="1" parent="1" source="approve_decision" target="end"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e14" edge="1" parent="1" source="finalizer" target="end"><mxGeometry relative="1" as="geometry"/></mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
